<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Add New Book</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-grid class="list" style="margin-bottom: 5px;">
    <ion-row>
      <ion-col col-6 text-center [ngClass]="information" (click)="setClass('information')">BOOK
      </ion-col>
      <ion-col col-6 text-center [ngClass]="notes" (click)="setClass('notes')">NOTES
      </ion-col>
    </ion-row>
  </ion-grid>
  <form class="form list" [formGroup]="form" (ngSubmit)="addBook()">
    <ion-list>
      <ion-grid>
        <div *ngIf="tab == 'informations'">
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Book ID :</ion-label>
            </ion-col>
            <ion-col>
              <ion-input type="text" formControlName="book_id" id="book_id" placeholder="N/001/001"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Book Title :</ion-label>
            </ion-col>
            <ion-col>
              <ion-input type="text" formControlName="title" id="book_title" placeholder="කවිකඳුර"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Title (English) :</ion-label>
            </ion-col>
            <ion-col>
              <ion-input type="text" formControlName="title_english" id="book_title_engish" placeholder="Kavikandura"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Authour :</ion-label>
            </ion-col>
            <ion-col>
              <ion-input type="text" formControlName="authour" id="book_authour" placeholder="සුනේත්‍රා රාජකරුණානායක"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Description :</ion-label>
            </ion-col>
            <ion-col>
              <ion-textarea type="text" formControlName="note" id="book_description" placeholder="ස්වර්ණ පුස්තක සම්මානය - 2011"></ion-textarea>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Category :</ion-label>
            </ion-col>
            <ion-col>
              <ion-select formControlName="category" id="book_category" interface="popover" placeholder="නවකතා">
                <ion-option value="නවකතා">නවකතා</ion-option>
                <ion-option value="පරිවර්තන">පරිවර්තන</ion-option>
                <ion-option value="කෙටිකතා">කෙටිකතා</ion-option>
              </ion-select>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Original Date :</ion-label>
            </ion-col>
            <ion-col>
              <ion-datetime type="number" displayFormat="YYYY-MM-DD" formControlName="first_published_date" id="book_first_published_date"
                placeholder="2011-02-08"></ion-datetime>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Pubished Date :</ion-label>
            </ion-col>
            <ion-col>
              <ion-datetime type="number" displayFormat="YYYY-MM-DD" formControlName="published_date" id="book_published_date"
                placeholder="2012-09-25"></ion-datetime>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Publisher :</ion-label>
            </ion-col>
            <ion-col>
              <ion-input type="text" formControlName="publisher" id="book_publisher" placeholder="සරසවි ප්‍රකාශන"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>ISBN :</ion-label>
            </ion-col>
            <ion-col>
              <ion-input type="number" formControlName="isbn" id="book_isbn" placeholder="9789556712543"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-3>
              <ion-label class="input-label" fixed>Price : Rs.</ion-label>
            </ion-col>
            <ion-col col-3>
              <ion-input type="number" formControlName="price" id="book_price" placeholder="550"></ion-input>
            </ion-col>
            <ion-col col-3>
              <ion-label class="input-label" fixed>Pages :</ion-label>
            </ion-col>
            <ion-col col-3>
              <ion-input type="number" formControlName="pages" id="book_pages" placeholder="213"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-3>
              <ion-label class="input-label" fixed>Volume :</ion-label>
            </ion-col>
            <ion-col col-3>
              <ion-input type="number" formControlName="volume" id="book_volume" placeholder="5"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-row>
                <ion-label class="title-label">Awards</ion-label>
                <ion-checkbox class="is-booh-lend" formControlName="isAwardReceived" (ionChange)="isAwardReceived()"></ion-checkbox>
              </ion-row>
            </ion-col>
          </ion-row>
          <div formArrayName="awards" [ngClass]="awardsDivClass">
            <section class="awardsDiv" [formGroupName]="i" *ngFor="let tech of form.controls.awards.controls; let i = index">
              <ion-item-group>
                <ion-row>
                  <ion-col text-center class="title-label">
                    Award {{i+1}}
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col col-auto>
                    <ion-label class="input-label" fixed>Name :</ion-label>
                  </ion-col>
                  <ion-col>
                    <ion-select formControlName="award_name" interface="popover" placeholder="ස්වර්ණ පුස්තක සම්මානය">
                      <ion-option value="රාජ්‍ය සාහිත්‍ය සම්මානය">රාජ්‍ය සාහිත්‍ය සම්මානය</ion-option>
                      <ion-option value="ස්වර්ණ පුස්තක සම්මානය">ස්වර්ණ පුස්තක සම්මානය</ion-option>
                      <ion-option value="විද්‍යෝදය සාහිත්‍ය සම්මානය">විද්‍යෝදය සාහිත්‍ය සම්මානය</ion-option>
                      <ion-option value="ගොඩගේ සාහිත්‍ය සම්මානය">ගොඩගේ සාහිත්‍ය සම්මානය</ion-option>
                      <ion-option value="රජත පුස්තක සම්මානය">රජත පුස්තක සම්මානය</ion-option>
                      <ion-option value="The Fairway National Literary Award">The Fairway National Literary Award</ion-option>
                      <ion-option value="Booker Prize">Booker Prize</ion-option>
                      <ion-option value="Nobel Prize">Nobel Prize</ion-option>
                      <ion-option value="Pulitzer Prize">Pulitzer Prize</ion-option>
                    </ion-select>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col col-6>
                    <ion-label class="input-label" fixed>Year :</ion-label>
                    <ion-datetime type="text" displayFormat="YYYY" formControlName="award_year" placeholder="2011"></ion-datetime>
                  </ion-col>
                  <ion-col col-6>
                    <ion-label class="input-label" fixed>Status :</ion-label>
                    <ion-select formControlName="award_status" interface="popover" placeholder="සම්මානය">
                      <ion-option value="සම්මානය">සම්මානය</ion-option>
                      <ion-option value="නිර්දේශිත">නිර්දේශිත</ion-option>
                    </ion-select>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col no-padding>
                    <span float-right ion-button icon-left clear *ngIf="form.controls.awards.length > 1" (click)="removeInputField(i)">
                      <ion-icon name="close"></ion-icon>Remove
                    </span>
                  </ion-col>
                </ion-row>
              </ion-item-group>
            </section>
          </div>
          <span ion-button float-left icon-left clear (click)="addNewInputField()" [ngClass]="awardsDivClass">
            <ion-icon name="add"></ion-icon>Add
          </span>
        </div>

        <div *ngIf="tab == 'notes'">
          <ion-row>
            <ion-col>
              <ion-label class="input-label" fixed>Book :</ion-label>
            </ion-col>
          </ion-row>
          <ion-row radio-group formControlName="is_read" class="is-read">
            <ion-col col-4>
              <ion-row>
                <ion-radio class="read-state" value="1"></ion-radio>
                <ion-label>Read</ion-label>
              </ion-row>
            </ion-col>
            <ion-col col-4>
              <ion-row>
                <ion-radio class="read-state" value="2"></ion-radio>
                <ion-label>Reading</ion-label>
              </ion-row>
            </ion-col>
            <ion-col col-4>
              <ion-row>
                <ion-radio class="read-state" value="3"></ion-radio>
                <ion-label>Not Read</ion-label>
              </ion-row>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-auto>
              <ion-row>
                <ion-label class="title-label">Book lend to</ion-label>
                <ion-checkbox class="is-booh-lend" formControlName="isBookLend" (ionChange)="isBookLend()"></ion-checkbox>
              </ion-row>
            </ion-col>
          </ion-row>
          <div formArrayName="lend" [ngClass]="lendByDivClass">
            <section class="awardsDiv" [formGroupName]="i" *ngFor="let tech of form.controls.lend.controls; let i = index">
              <ion-item-group>
                <ion-row>
                  <ion-col col-auto>
                    <ion-label class="input-label" fixed>Name :</ion-label>
                  </ion-col>
                  <ion-col>
                    <ion-input type="text" formControlName="lend_name" placeholder="Dhanuka"></ion-input>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col col-auto>
                    <ion-label class="input-label" fixed>Date :</ion-label>
                  </ion-col>
                  <ion-col>
                    <ion-datetime type="text" displayFormat="YYYY-MM-DD" formControlName="lend_date" placeholder="2018-08-25"></ion-datetime>
                  </ion-col>
                </ion-row>
              </ion-item-group>
            </section>
          </div>
          <ion-row>
            <ion-col col-auto>
              <ion-label class="input-label" fixed>Special Note :</ion-label>
            </ion-col>
            <ion-col>
              <ion-input type="text" formControlName="special_note" id="book_special_note" placeholder="Some pages are torn."></ion-input>
            </ion-col>
          </ion-row>
        </div>

        <ion-row style="text-align: center">
          <ion-col col-4 push-4>
            <button ion-button type="submit" class="btnSend" [disabled]="!form.valid">Add</button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-list>
  </form>

</ion-content>